webpackJsonp([10],{"8YrQ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),s=n.n(a),i=n("mvHQ"),o=n.n(i),c=n("exGp"),r=n.n(c),l=n("JzG3"),u=n("foCY"),m=n("Jr5W"),d=n("gyMJ"),f=n("gvSL"),v=n("0Dnf"),h={name:"AddAnotherBankAccount",components:{moneyInput:l.a,feeConfirm:u.a,selectBankAccount:m.a,simpleCashier:f.a},data:function(){return{amount:"",accountNumber:"",firstName:"",lastName:"",feeConfirmVisible:!1,selectBankAccountVisible:!1,bankList:[],currentIndex:0,cashierVisible:!1,transactionNo:"",transOrderNo:""}},computed:{btnok:function(){return!!(this.lastName.trim()&&this.firstName.trim()&&this.accountNumber&&this.amount&&this.bankList[this.currentIndex])},payeeBank:function(){return this.bankList[this.currentIndex]?this.bankList[this.currentIndex].bankName:0},fee:function(){return this.$route.query.fee}},methods:{check:function(){console.log("check")},handleClick:function(){console.log("click"),this.feeConfirmVisible=!0},confirm:function(){var t=this;return r()(s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.k)({version:t.$DeviceInfo.appVersion,amount:t.amount,fee:t.fee,currency:"THB",bankName:t.bankList[t.currentIndex].bankName,bankAccount:t.accountNumber,accountName:t.firstName+t.lastName,deviceMsg:o()(t.$DeviceInfo),busiType:v.i.NORMAL});case 2:1===(n=e.sent).data.resultCode?(t.transactionNo=n.data.resultData.transactionNo,t.transOrderNo=n.data.resultData.transOrderNo,t.cashierVisible=!0):t.$toast({message:n.data.errorData.msg,position:"middle",duration:5e3});case 4:case"end":return e.stop()}},e,t)}))()},paynow:function(){console.log("pay"),this.$router.push({name:"transferBankResult",query:{transOrderNo:this.transOrderNo}})},chooseBank:function(){var t=this;return r()(s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.r)({version:t.$DeviceInfo.appVersion});case 2:1===(n=e.sent).data.resultCode?(t.bankList=n.data.resultData,t.selectBankAccountVisible=!0):0===n.data.resultCode&&(n.data.actionData?t.$SDK.goNativeAction(n.data.actionData):t.$toast({message:n.data.errorData.msg,position:"middle",duration:5e3}));case 4:case"end":return e.stop()}},e,t)}))()},selectBank:function(t){console.log("celect"),this.currentIndex=t,this.selectBankAccountVisible=!1}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"another-bank-account-wraper"},[t._m(0),t._v(" "),n("section",{staticClass:"list-container"},[n("div",{staticClass:"item-wraper"},[n("div",{staticClass:"choose-item",on:{click:t.chooseBank}},[n("p",{directives:[{name:"show",rawName:"v-show",value:t.payeeBank,expression:"payeeBank"}],staticClass:"title"},[t._v("Choose Payee Bank")]),t._v(" "),n("div",{staticClass:"holder-container"},[n("p",{directives:[{name:"show",rawName:"v-show",value:!t.payeeBank,expression:"!payeeBank"}],staticClass:"holder"},[t._v("Choose Payee Bank")]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.payeeBank,expression:"payeeBank"}],staticClass:"txt"},[t._v(t._s(t.payeeBank))]),t._v(" "),n("common-icon",{staticClass:"custom-ico",staticStyle:{color:"#D6D5D5"},attrs:{slot:"icon",name:"more",size:".35rem"},slot:"icon"})],1)])]),t._v(" "),n("div",{staticClass:"item-wraper"},[n("common-input",{attrs:{holder:"Account Number"},model:{value:t.accountNumber,callback:function(e){t.accountNumber=e},expression:"accountNumber"}})],1),t._v(" "),n("div",{staticClass:"item-wraper"},[n("common-input",{attrs:{holder:"First Name"},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),t._v(" "),n("div",{staticClass:"item-wraper"},[n("common-input",{attrs:{holder:"Last Name"},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1)]),t._v(" "),n("moneyInput",{model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),t._v(" "),n("div",{staticClass:"btn-wraper"},[n("common-button",{attrs:{disabled:!t.btnok,type:"danger"},nativeOn:{click:function(e){return t.handleClick(e)}}},[t._v("TRANSFER")])],1),t._v(" "),n("feeConfirm",{attrs:{visible:t.feeConfirmVisible,money:t.amount,fee:t.fee},on:{"update:visible":function(e){t.feeConfirmVisible=e},confirm:t.confirm}}),t._v(" "),n("selectBankAccount",{attrs:{visible:t.selectBankAccountVisible,"show-another":!1,list:t.bankList},on:{"update:visible":function(e){t.selectBankAccountVisible=e},selectBank:t.selectBank}}),t._v(" "),n("simpleCashier",{attrs:{"cashier-visible":t.cashierVisible,"transaction-no":t.transactionNo},on:{"update:cashierVisible":function(e){t.cashierVisible=e},paynow:t.paynow}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"little-txt"},[this._v("Money transfer will be successed within "),e("span",{staticClass:"red"},[this._v("1")]),this._v(" working day")])}]};var k=n("VU/8")(h,p,!1,function(t){n("GyCa")},"data-v-774e339e",null);e.default=k.exports},GyCa:function(t,e){},Jr5W:function(t,e,n){"use strict";var a={name:"SelectBankAccount",props:{visible:{type:Boolean,default:!1},showAnother:{type:Boolean,default:!0},list:{type:Array,default:function(){return[]}},currentIndex:{type:Number,default:0}},data:function(){return{}},computed:{show:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},watch:{},methods:{close:function(){this.$emit("update:visible",!1)},handleClick:function(){console.log("click")},bankNameAndNum:function(t){var e=t.accountNo?t.accountNo.substring(0,4):0;return t.accountNo?t.bankName+"("+e+" )":""}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("common-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"select-bank-account"},[a("div",{staticClass:"title"},[a("span",[t._v("Select a Bank Account")]),t._v(" "),a("common-icon",{staticClass:"custom-ico",attrs:{name:"close",size:".5rem"},on:{click:function(e){t.close()}}})],1),t._v(" "),a("div",{staticClass:"item"},[t._l(t.list,function(e,n){return a("common-item",{key:n,attrs:{title:e.bankName,label:t.bankNameAndNum(e),"icon-color":"#4D7BFE"},on:{click:function(e){t.$emit("selectBank",n)}}},[a("img",{staticClass:"img",attrs:{slot:"img",src:e.h5Logo},slot:"img"}),t._v(" "),t.currentIndex===n?a("common-icon",{staticClass:"custom-ico",staticStyle:{color:"#4D7BFE"},attrs:{slot:"icon",name:"selected",size:".5rem"},slot:"icon"}):t._e()],1)}),t._v(" "),t.showAnother?a("common-item",{attrs:{title:" To Other Bank Account"},on:{click:function(e){t.$emit("goOtherBankAccount")}}},[a("img",{staticClass:"img",attrs:{slot:"img",src:n("VB2t")},slot:"img"}),t._v(" "),a("common-icon",{attrs:{slot:"icon",name:"more",size:".3rem"},slot:"icon"})],1):t._e()],2)])])},staticRenderFns:[]};var i=n("VU/8")(a,s,!1,function(t){n("SZUE")},"data-v-3dba13a9",null);e.a=i.exports},SZUE:function(t,e){}});