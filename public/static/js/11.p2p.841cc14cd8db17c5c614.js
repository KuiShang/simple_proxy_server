webpackJsonp([11],{"2Clt":function(e,t){e.exports="data:image/png;base64,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"},Y2Mk:function(e,t){},xhVY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("mvHQ"),r=a.n(n),s=a("Xxa5"),o=a.n(s),i=a("exGp"),c=a.n(i),u=a("gvSL"),l=a("gyMJ"),m=a("JzG3"),d=a("0Dnf"),p=a("FfyX"),y=a("UmZI"),v=a("Hds5"),f=a("2Clt"),g={name:"P2p",components:{simpleCashier:u.a,moneyInput:m.a},mixins:[p.a,y.a],data:function(){return{amount:"",cashierVisible:!1,selectBankAccountVisible:!1,transactionNo:"",transOrderNo:"",readonly:!1,remark:"",BUSI_SCENARIOS:d.b,TRANSFER_CHANNELS:d.h,moneyFlag:!1,moneyInputTitle:"Transfer Amount",requestToPayNo:"",codeType:""}},computed:{iconUrl:function(){return this.dataObj.iconUrl?this.dataObj.iconUrl:f}},beforeRouteEnter:function(e,t,a){v.U(),a()},beforeRouteLeave:function(e,t,a){v.V(),a()},created:function(){var e=this;return c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.listenBackPress(),e.$SDK.setTitle({title:e.$t("pay"),mHeaderTitle:{showEnd:0}});case 2:case"end":return t.stop()}},t,e)}))()},watch:{cashierVisible:function(e){!1===e&&(this.listenBackPress(),v.U())}},destroyed:function(){console.log("p2p destory")},methods:{initData:function(){var e=this;return c()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.p)({token:encodeURIComponent(e.$route.query.token)});case 2:a=t.sent,e.handlInitData(a,function(){if(a.data.resultData.amount){var t="number"==typeof a.data.resultData.amount?String(a.data.resultData.amount):a.data.resultData.amount;e.$refs.moneyInput.amount=t,e.readonly=!0,a.data.resultData.remark&&(e.moneyInputTitle=a.data.resultData.remark)}e.codeType=a.data.resultData.codeType,e.requestToPayNo=a.data.resultData.requestToPayNo||""});case 4:case"end":return t.stop()}},t,e)}))()},listenBackPress:function(){var e=this;console.log("p2p页面监听返回键"),this.$SDK.onBackPress(c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("p2p按下了返回键"),t.next=3,Object(l.g)({recipientAccountNo:e.dataObj.customerId});case 3:e.$SDK.closeWebView();case 4:case"end":return t.stop()}},t,e)})))},moneyLimitOk:function(){this.initData()},handleClick:function(){var e=this;return c()(o.a.mark(function t(){var a,n,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={},a="1"===e.codeType.toString()?{version:e.$DeviceInfo.appVersion,amount:e.amount,currency:"THB",recipientAccountNo:e.dataObj.customerId,deviceMsg:r()(e.$DeviceInfo),remark:e.remark,busiType:d.b.P2P,transferChannel:d.h.ONT_FIN,payeeReason:e.dataObj.payeeReason}:{version:e.$DeviceInfo.appVersion,amount:e.amount,currency:"THB",recipientAccountNo:e.dataObj.customerId,deviceMsg:r()(e.$DeviceInfo),remark:e.remark,transferChannel:d.h.ONT_FIN,busiType:d.b.REQUESR2PAY,requestToPayNo:e.requestToPayNo},t.next=4,Object(l.k)(a);case 4:1===(n=t.sent).data.resultCode?(e.transactionNo=n.data.resultData.transactionNo,e.transOrderNo=n.data.resultData.transOrderNo,e.cashierVisible=!0,v.V(),"1"===e.codeType.toString()&&v.T()):0===n.data.resultCode&&(s={code:n.data.errorData&&n.data.errorData.code||"",msg:n.data.errorData&&n.data.errorData.msg||""},"1"===e.codeType.toString()&&v.T(s),e.hasPayError(n));case 6:case"end":return t.stop()}},t,e)}))()},changeBank:function(){console.log("changeBank"),this.selectBankAccountVisible=!0},selectBank:function(){this.selectBankAccountVisible=!1,console.log("selectBank")},paynow:function(){console.log("pay"),this.$router.push({name:"transferTh1Result",query:{transOrderNo:this.transOrderNo}})},receiveNotes:function(e){this.remark=e},receiveMoneyFlag:function(e){this.moneyFlag=e}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p2p-wrapper"},[a("div",{staticClass:"card"},[a("div",{staticClass:"avator"},[a("p",{staticClass:"pay-money"},[e._v("Pay Money to")]),e._v(" "),a("p",{staticClass:"img-name"},[e._v(e._s(e.dataObj.customerName||"Dear Customer"))])]),e._v(" "),a("img",{staticClass:"img",attrs:{src:e.iconUrl,alt:""}})]),e._v(" "),a("moneyInput",{ref:"moneyInput",attrs:{title:e.moneyInputTitle,"notes-entry":!0,readonly:e.readonly,"transfer-channel":e.TRANSFER_CHANNELS.ONT_FIN,"busi-scenarios":e.BUSI_SCENARIOS.P2P},on:{addNotes:e.receiveNotes,moneyFlag:e.receiveMoneyFlag,moneyLimitOk:e.moneyLimitOk},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}}),e._v(" "),a("div",{staticClass:"btn-wraper"},[a("common-button",{attrs:{disabled:!e.moneyFlag,type:"danger"},nativeOn:{click:function(t){return e.handleClick(t)}}},[e._v("CONFIRM")])],1),e._v(" "),e.cashierVisible?a("simpleCashier",{attrs:{"cashier-visible":e.cashierVisible,"transaction-no":e.transactionNo},on:{"update:cashierVisible":function(t){e.cashierVisible=t},paynow:e.paynow}}):e._e()],1)},staticRenderFns:[]};var h=a("VU/8")(g,k,!1,function(e){a("Y2Mk")},"data-v-c01923c2",null);t.default=h.exports}});