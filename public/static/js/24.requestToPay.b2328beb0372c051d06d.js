webpackJsonp([24],{C3cl:function(t,e){},pSPG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Xxa5"),o=n.n(i),s=n("exGp"),a=n.n(s),r=n("FfyX"),l=n("l70U"),u=n("DOhk"),c=n("UmZI"),m=n("gyMJ"),h={name:"RequestToPay",mixins:[r.a,c.a,l.a,u.a],props:{channelType:{type:String,default:"transfer"},title:{type:String,default:"Transfer Amount"},btnText:{type:String,default:"Transfer All"},notesEntry:{type:Boolean,default:!1},busiScenarios:{type:String,default:""},hasFee:{type:Boolean,default:!1},fee:{type:String,default:""},readonly:{type:Boolean,default:!1}},data:function(){return{totalAmount:"",inCludeMe:"",amount:"",active:!1,showNotes:!1,notes:"",showErrorTip:!1}},computed:{btnok:function(){return!0},type:function(){var t="number";return(navigator.userAgent.toLowerCase().indexOf("android")>-1||!1)&&(t="tel"),t},isLowerOnceAmount:function(){return""!=this.amount&&"0.00"!==Number(this.amount).toFixed(2)&&-this.amount>-this.timeLowerAmount},isAvailable:function(){return""!=this.amount&&"0.00"!==Number(this.amount).toFixed(2)&&this.amount>this.availableAmount}},watch:{amount:function(t){var e="number"==typeof t?String(t):t;this.$emit("input",e),0===e.trim().length&&(this.active=!1);var n=Number(e);if(isNaN(n))return this.$emit("moneyFlag",!1),void(this.showErrorTip=!1);if(""===this.amount||"0.00"===n.toFixed(2))return this.$emit("moneyFlag",!1),void(this.showErrorTip=!1);n<=(this.currentLimitType===this.LIMIT_TYPE.TIMES?this.timeLimitAmount:this.dayLimitAmount)?n<this.timeLowerAmount?this.$emit("moneyFlag",!1):(this.$emit("moneyFlag",!0),this.showErrorTip=!1):(this.$emit("moneyFlag",!1),this.showErrorTip=!0)}},created:function(){this.initData()},methods:{initData:function(){var t=this;return a()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$indicator.open({text:"Loading...",spinnerType:"fading-circle"}),e.next=3,Object(m.u)({version:t.$DeviceInfo.appVersion,busiScenarios:t.busiScenarios});case 3:n=e.sent,t.$indicator.close(),0===n.data.resultCode?"TWA4400005"==n.data.errorData.code?t.showDialog=!0:t.hasPayError(n):t.handlInitData(n,function(){t.computedCurrentLimitType(),t.$emit("moneyLimitOk")});case 6:case"end":return e.stop()}},e,t)}))()},check:function(){0===String(this.amount).trim().length&&(this.active=!1),this.$emit("blur",this.amount)},input:function(){this.$emit("input",this.amount)},inputFocus:function(){this.active=!0},addNotes:function(){var t=this;this.showNotes=!0,this.$nextTick(function(){t.$refs.transInput.focus()})},checkNotes:function(){this.notes.trim()||(this.showNotes=!1)},emitNotes:function(){this.$emit("addNotes",this.notes)}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"request2pay"},[n("div",{staticClass:"padtop"}),t._v(" "),n("common-field",{staticClass:"notes-entry",attrs:{readonly:t.readonly,maxlength:9,type:t.type},on:{blur:t.check,input:t.input,focus:t.inputFocus},model:{value:t.totalAmount,callback:function(e){t.totalAmount=e},expression:"totalAmount"}},[n("span",{staticClass:"afterfix-txt",attrs:{slot:"afterfix"},slot:"afterfix"},[t._v(t._s(t.$t("Baht")))])]),t._v(" "),n("common-field",{staticClass:"notes-entry",attrs:{readonly:t.readonly,maxlength:9,type:t.type,holder:this.$t("Notes(Optional)"),"style-obj":{right:"1.9rem"}},on:{blur:t.check,input:t.input,focus:t.inputFocus},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}},[n("span",{attrs:{slot:"afterfix"},slot:"afterfix"},[t._v(t._s(t.$t("Include me")))]),t._v(" "),n("common-switch",{attrs:{slot:"afterfix"},slot:"afterfix",model:{value:t.inCludeMe,callback:function(e){t.inCludeMe=e},expression:"inCludeMe"}})],1),t._v(" "),n("div",{staticClass:"add-notes-wraper"},[n("common-input",{ref:"commonInput",attrs:{border:!1,maxlength:30,"style-obj":{right:".4rem"},holder:this.$t("Notes(Optional)")},on:{blur:t.checkNotes,input:t.emitNotes},model:{value:t.notes,callback:function(e){t.notes=e},expression:"notes"}})],1),t._v(" "),n("div",{staticClass:"head"},[n("div",{staticClass:"fle-container"},[n("span",{staticClass:"txt-title"},[t._v(" "+t._s(t.$t("Amount per person")))])]),t._v(" "),n("p",{staticClass:"txt-money"},[t._v("11111")]),t._v(" "),n("p",{staticClass:"txt-des"},[t._v(t._s(t.$t("Total"))+" 0 "+t._s(t.$t("to be collected")))])]),t._v(" "),n("div",{staticClass:"btn-wraper"},[n("common-button",{attrs:{disabled:!t.btnok,type:"danger"},nativeOn:{click:function(e){return t.handleClick(e)}}},[t._v(t._s(this.$t("confirm")))])],1),t._v(" "),t.showDialog?n("toast",{attrs:{"show-cancle":!0},on:{cancle:t.cancle,closeDialog:t.closeDialog}},[n("p",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(this.$t("VerifyYouridentity")))]),t._v(" "),n("p",{attrs:{slot:"content"},slot:"content"},["transfer"==t.channelType?[t._v("\n        "+t._s(this.$t("VerifyTransferText"))+"\n      ")]:[t._v("\n        "+t._s(this.$t("VerifyTopupText"))+"\n      ")]],2),t._v(" "),n("p",{attrs:{slot:"cancle"},slot:"cancle"},[t._v(t._s(this.$t("NOTNOW")))]),t._v(" "),n("p",{attrs:{slot:"confirm"},slot:"confirm"},[t._v(t._s(this.$t("OK")))])]):t._e()],1)},staticRenderFns:[]};var p=n("VU/8")(h,f,!1,function(t){n("C3cl")},"data-v-7756d238",null);e.default=p.exports}});