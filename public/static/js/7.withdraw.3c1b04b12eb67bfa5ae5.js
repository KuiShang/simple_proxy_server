webpackJsonp([7],{"/htl":function(t,e){t.exports="data:image/png;base64,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"},Jr5W:function(t,e,n){"use strict";var a={name:"SelectBankAccount",props:{visible:{type:Boolean,default:!1},showAnother:{type:Boolean,default:!0},list:{type:Array,default:function(){return[]}},currentIndex:{type:Number,default:0}},data:function(){return{}},computed:{show:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},watch:{},methods:{close:function(){this.$emit("update:visible",!1)},handleClick:function(){console.log("click")},bankNameAndNum:function(t){var e=t.accountNo?t.accountNo.substring(0,4):0;return t.accountNo?t.bankName+"("+e+" )":""}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("common-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{staticClass:"select-bank-account"},[a("div",{staticClass:"title"},[a("span",[t._v("Select a Bank Account")]),t._v(" "),a("common-icon",{staticClass:"custom-ico",attrs:{name:"close",size:".5rem"},on:{click:function(e){t.close()}}})],1),t._v(" "),a("div",{staticClass:"item"},[t._l(t.list,function(e,n){return a("common-item",{key:n,attrs:{title:e.bankName,label:t.bankNameAndNum(e),"icon-color":"#4D7BFE"},on:{click:function(e){t.$emit("selectBank",n)}}},[a("img",{staticClass:"img",attrs:{slot:"img",src:e.h5Logo},slot:"img"}),t._v(" "),t.currentIndex===n?a("common-icon",{staticClass:"custom-ico",staticStyle:{color:"#4D7BFE"},attrs:{slot:"icon",name:"selected",size:".5rem"},slot:"icon"}):t._e()],1)}),t._v(" "),t.showAnother?a("common-item",{attrs:{title:" To Other Bank Account"},on:{click:function(e){t.$emit("goOtherBankAccount")}}},[a("img",{staticClass:"img",attrs:{slot:"img",src:n("VB2t")},slot:"img"}),t._v(" "),a("common-icon",{attrs:{slot:"icon",name:"more",size:".3rem"},slot:"icon"})],1):t._e()],2)])])},staticRenderFns:[]};var s=n("VU/8")(a,o,!1,function(t){n("SZUE")},"data-v-3dba13a9",null);e.a=s.exports},"K+27":function(t,e){},SZUE:function(t,e){},bjKb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("mvHQ"),o=n.n(a),s=n("Xxa5"),c=n.n(s),i=n("exGp"),r=n.n(i),u=n("Jr5W"),l=n("foCY"),d=n("JzG3"),m=n("gyMJ"),k=n("0Dnf"),b=n("FfyX"),f={name:"Withdraw",components:{selectBankAccount:u.a,feeConfirm:l.a,moneyInput:d.a},mixins:[b.a],data:function(){return{amount:"",selectBankAccountVisible:!1,feeConfirmVisible:!1,currentIndex:0,transactionNo:"",transOrderNo:""}},computed:{fee:function(){return this.dataObj.fee},balanceAmount:function(){return String(this.dataObj.balanceAmount)},btnok:function(){return Number(this.amount)<=this.balanceAmount&&this.amount.length>0&&this.dataObj.bankAccountInfoList.length>0},currentBank:function(){return this.dataObj&&this.dataObj.bankAccountInfoList&&this.dataObj.bankAccountInfoList[this.currentIndex]?this.dataObj.bankAccountInfoList[this.currentIndex]:{}},bankNameAndNum:function(){var t=this.currentBank.accountNo?this.currentBank.accountNo.substring(this.currentBank.accountNo.length-4):0;return this.currentBank.accountNo?this.currentBank.bankName+"("+t+" )":""}},created:function(){this.initData()},methods:{initData:function(){var t=this;return r()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.G)({version:t.$DeviceInfo.appVersion});case 2:n=e.sent,t.handlInitData(n);case 4:case"end":return e.stop()}},e,t)}))()},handleClick:function(){console.log("click"),this.feeConfirmVisible=!0},changeBank:function(){console.log("changeBank"),this.selectBankAccountVisible=!0},selectBank:function(t){this.selectBankAccountVisible=!1,console.log(t),this.currentIndex=t},confirm:function(){var t=this;return r()(c.a.mark(function e(){var n,a,s,i,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.E)({version:t.$DeviceInfo.appVersion,amount:t.amount,currency:k.j.THB,cardId:t.currentBank.cardId,fee:t.dataObj.fee});case 2:if(1!==(n=e.sent).data.resultCode){e.next=33;break}return t.transactionNo=n.data.resultData.transactionNo,t.transOrderNo=n.data.resultData.transOrderNo,e.next=8,t.$SDK.goNativeAction(n.data.actionData);case 8:return a=e.sent,console.log("输入密码后结果：",a),e.next=12,Object(m.H)({version:t.$DeviceInfo.appVersion,transOrderNo:t.transOrderNo,securityId:a.outData.csSNNumber,riskId:a.outData.riskId,validateType:a.outData.validateType,sence:a.outData.scene,deviceMsg:o()(t.$DeviceInfo)});case 12:if(s=e.sent,console.log(s),1!==s.data.resultCode){e.next=30;break}if(!s.data.actionData){e.next=26;break}return e.next=18,t.$SDK.goNativeAction(s.data.actionData);case 18:return i=e.sent,console.log("afterpwdret",i),e.next=22,Object(m.F)({version:t.$DeviceInfo.appVersion,transOrderNo:t.transOrderNo,securityId:i.outData.csSNNumber,riskId:i.outData.riskId,validateType:i.outData.validateType,sence:i.outData.scene,deviceMsg:o()(t.$DeviceInfo)});case 22:1===(r=e.sent).data.resultCode?t.$router.push({name:"withdrawResult",query:{transOrderNo:n.data.resultData.transOrderNo}}):t.$toast({message:r.data.errorData.msg,position:"middle",duration:5e3}),e.next=28;break;case 26:t.$router.push({name:"withdrawResult",query:{transOrderNo:n.data.resultData.transOrderNo}}),console.log("轉賬成功");case 28:e.next=31;break;case 30:0===s.data.resultCode&&t.$toast({message:s.data.errorData.msg,position:"middle",duration:5e3});case 31:e.next=40;break;case 33:if(0!==n.data.resultCode){e.next=40;break}if(k.g.NO_KYC!==n.data.errorData.code){e.next=39;break}return e.next=37,t.$SDK.goNativeAction(n.data.actionData);case 37:e.next=40;break;case 39:t.$toast({message:n.data.errorData.msg,position:"middle",duration:5e3});case 40:case"end":return e.stop()}},e,t)}))()},goOtherBankAccount:function(){this.$SDK.goNativeActionAddCard(),console.log("跳转绑卡")}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"blance-withdraw"},[t._m(0),t._v(" "),a("div",{staticClass:"account-wraper"},[t.currentBank.accountName?a("common-item",{attrs:{title:t.currentBank.accountName,label:t.bankNameAndNum,"icon-color":"#4D7BFE"},on:{click:t.changeBank}},[a("i",{staticClass:"img",style:{backgroundImage:"url("+t.currentBank.bankIconUrl+")"},attrs:{slot:"img"},slot:"img"}),t._v(" "),a("common-icon",{staticClass:"custom-ico",staticStyle:{color:"#4D7BFE"},attrs:{slot:"icon",name:"selected",size:".5rem"},slot:"icon"})],1):a("common-item",{attrs:{title:"No bank account available",label:"please enter the amount and press the button to add new","icon-color":"#4D7BFE"},on:{click:t.goOtherBankAccount}},[a("img",{staticClass:"img",attrs:{slot:"img",src:n("/htl")},slot:"img"})])],1),t._v(" "),a("moneyInput",{attrs:{"limit-money":t.balanceAmount,title:"Withdraw Amount","btn-text":"Withdraw All"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),t._v(" "),a("div",{staticClass:"btn-wraper"},[a("common-button",{attrs:{disabled:!t.btnok,type:"danger"},nativeOn:{click:function(e){return t.handleClick(e)}}},[t._v("WITHDRAW")])],1),t._v(" "),a("selectBankAccount",{attrs:{visible:t.selectBankAccountVisible,list:t.dataObj.bankAccountInfoList,"current-index":t.currentIndex},on:{"update:visible":function(e){t.selectBankAccountVisible=e},selectBank:t.selectBank,goOtherBankAccount:t.goOtherBankAccount}}),t._v(" "),a("feeConfirm",{attrs:{visible:t.feeConfirmVisible,money:t.amount,fee:t.fee},on:{"update:visible":function(e){t.feeConfirmVisible=e},confirm:t.confirm}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"little-txt"},[this._v("Money withdraw will be successed within "),e("span",{staticClass:"red"},[this._v("1")]),this._v(" working day")])}]};var A=n("VU/8")(f,h,!1,function(t){n("K+27")},"data-v-7e82b447",null);e.default=A.exports}});